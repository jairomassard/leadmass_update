"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[565],{7565:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ii}});var i=a(6768),r=a(5130),n=a(4232);const o={id:"gerente-reportes",class:"container mt-4"},s={class:"row mb-4"},l={class:"col-md-4"},c={class:"col-md-4"},u={class:"row mb-4"},d={class:"card text-center shadow-sm kpi-card"},h={class:"card-body"},g={class:"card-title"},p={class:"card-text display-6"},f={class:"row"},y={class:"col-md-6 mb-4"},v={class:"card shadow-sm"},m={class:"card-body"},x={key:1,class:"text-center text-muted"},b={class:"col-md-6 mb-4"},A={class:"card shadow-sm"},L={class:"card-body"},M={key:1,class:"text-center text-muted"},w={class:"col-md-6 mb-4"},_={class:"card shadow-sm"},S={class:"card-body"},C={key:1,class:"text-center text-muted"},k={class:"col-md-6 mb-4"},I={class:"card shadow-sm"},T={class:"card-body"},D={key:1,class:"text-center text-muted"},E={class:"col-md-6 mb-4"},P={class:"card shadow-sm"},N={class:"card-body"},R={key:1,class:"text-center text-muted"},O={class:"col-md-6 mb-4"},V={class:"card shadow-sm"},G={class:"card-body"},F={key:1,class:"text-center text-muted"};function B(e,t,a,B,W,z){const X=(0,i.g2)("v-chart");return(0,i.uX)(),(0,i.CE)("div",o,[t[12]||(t[12]=(0,i.Lk)("h1",{class:"text-center mb-4"},"Dashboard de Reportes - Gerencial",-1)),(0,i.Lk)("div",s,[(0,i.Lk)("div",l,[t[4]||(t[4]=(0,i.Lk)("label",{class:"form-label"},"Fecha desde:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>W.fechaDesde=e),onChange:t[1]||(t[1]=(...e)=>z.cargarLeads&&z.cargarLeads(...e))},null,544),[[r.Jo,W.fechaDesde]])]),(0,i.Lk)("div",c,[t[5]||(t[5]=(0,i.Lk)("label",{class:"form-label"},"Fecha hasta:",-1)),(0,i.bo)((0,i.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>W.fechaHasta=e),onChange:t[3]||(t[3]=(...e)=>z.cargarLeads&&z.cargarLeads(...e))},null,544),[[r.Jo,W.fechaHasta]])])]),(0,i.Lk)("div",u,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(W.kpis,(e=>((0,i.uX)(),(0,i.CE)("div",{class:"col-md-2",key:e.label},[(0,i.Lk)("div",d,[(0,i.Lk)("div",h,[(0,i.Lk)("h5",g,(0,n.v_)(e.label),1),(0,i.Lk)("p",p,(0,n.v_)(e.value),1)])])])))),128))]),(0,i.Lk)("div",f,[(0,i.Lk)("div",y,[(0,i.Lk)("div",v,[t[6]||(t[6]=(0,i.Lk)("div",{class:"card-header bg-primary text-white"},"Leads por Marca",-1)),(0,i.Lk)("div",m,[W.chartMarca.series[0].data.length>0?((0,i.uX)(),(0,i.Wv)(X,{key:0,option:W.chartMarca,style:{width:"100%",height:"350px"}},null,8,["option"])):((0,i.uX)(),(0,i.CE)("div",x,"Sin datos"))])])]),(0,i.Lk)("div",b,[(0,i.Lk)("div",A,[t[7]||(t[7]=(0,i.Lk)("div",{class:"card-header bg-success text-white"},"Leads por Modelo",-1)),(0,i.Lk)("div",L,[W.chartModelo.xAxis[0].data.length>0?((0,i.uX)(),(0,i.Wv)(X,{key:0,option:W.chartModelo,style:{width:"100%",height:"350px"}},null,8,["option"])):((0,i.uX)(),(0,i.CE)("div",M,"Sin datos"))])])]),(0,i.Lk)("div",w,[(0,i.Lk)("div",_,[t[8]||(t[8]=(0,i.Lk)("div",{class:"card-header bg-warning text-dark"},"Leads por Estatus",-1)),(0,i.Lk)("div",S,[W.chartEstatus.series[0].data.length>0?((0,i.uX)(),(0,i.Wv)(X,{key:0,option:W.chartEstatus,style:{width:"100%",height:"350px"}},null,8,["option"])):((0,i.uX)(),(0,i.CE)("div",C,"Sin datos"))])])]),(0,i.Lk)("div",k,[(0,i.Lk)("div",I,[t[9]||(t[9]=(0,i.Lk)("div",{class:"card-header bg-info text-white"},"Test Drive",-1)),(0,i.Lk)("div",T,[W.chartTestDrive.series[0].data.length>0?((0,i.uX)(),(0,i.Wv)(X,{key:0,option:W.chartTestDrive,style:{width:"100%",height:"350px"}},null,8,["option"])):((0,i.uX)(),(0,i.CE)("div",D,"Sin datos"))])])]),(0,i.Lk)("div",E,[(0,i.Lk)("div",P,[t[10]||(t[10]=(0,i.Lk)("div",{class:"card-header bg-dark text-white"},"Pipeline Financiero",-1)),(0,i.Lk)("div",N,[W.chartPipeline.xAxis[0].data.length>0?((0,i.uX)(),(0,i.Wv)(X,{key:0,option:W.chartPipeline,style:{width:"100%",height:"350px"}},null,8,["option"])):((0,i.uX)(),(0,i.CE)("div",R,"Sin datos"))])])]),(0,i.Lk)("div",O,[(0,i.Lk)("div",V,[t[11]||(t[11]=(0,i.Lk)("div",{class:"card-header bg-secondary text-white"},"Pipeline Funnel",-1)),(0,i.Lk)("div",G,[W.chartFunnel.series[0].data.length>0?((0,i.uX)(),(0,i.Wv)(X,{key:0,option:W.chartFunnel,style:{width:"100%",height:"350px"}},null,8,["option"])):((0,i.uX)(),(0,i.CE)("div",F,"Sin datos"))])])])])])}a(8992),a(4520),a(3949),a(1454),a(8872);var W=a(3173),z=a(7780),X=a(2212),H=a(7475),U=a(1353),$=a(3398),Y=a(4397),j=a(551),Z=a(3891),q=2*Math.PI,K=Math.PI/180;function J(e,t){return $.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Q(e,t){var a=J(e,t),i=e.get("center"),r=e.get("radius");Y.cy(r)||(r=[0,r]);var n,o,s=(0,U.lo)(a.width,t.getWidth()),l=(0,U.lo)(a.height,t.getHeight()),c=Math.min(s,l),u=(0,U.lo)(r[0],c/2),d=(0,U.lo)(r[1],c/2),h=e.coordinateSystem;if(h){var g=h.dataToPoint(i);n=g[0]||0,o=g[1]||0}else Y.cy(i)||(i=[i,i]),n=(0,U.lo)(i[0],s)+a.x,o=(0,U.lo)(i[1],l)+a.y;return{cx:n,cy:o,r0:u,r:d}}function ee(e,t,a){t.eachSeriesByType(e,(function(e){var t=e.getData(),i=t.mapDimension("value"),r=J(e,a),n=Q(e,a),o=n.cx,s=n.cy,l=n.r,c=n.r0,u=-e.get("startAngle")*K,d=e.get("endAngle"),h=e.get("padAngle")*K;d="auto"===d?u-q:-d*K;var g=e.get("minAngle")*K,p=g+h,f=0;t.each(i,(function(e){!isNaN(e)&&f++}));var y=t.getSum(i),v=Math.PI/(y||f)*2,m=e.get("clockwise"),x=e.get("roseType"),b=e.get("stillShowZeroSum"),A=t.getDataExtent(i);A[0]=0;var L=m?1:-1,M=[u,d],w=L*h/2;(0,j.q)(M,!m),u=M[0],d=M[1];var _=te(e);_.startAngle=u,_.endAngle=d,_.clockwise=m;var S=Math.abs(d-u),C=S,k=0,I=u;if(t.setLayout({viewRect:r,r:l}),t.each(i,(function(e,a){var i;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:o,cy:s,r0:c,r:x?NaN:l});else{i="area"!==x?0===y&&b?v:e*v:S/f,i<p?(i=p,C-=p):k+=e;var r=I+L*i,n=0,u=0;h>i?(n=I+L*i/2,u=n):(n=I+w,u=r-w),t.setItemLayout(a,{angle:i,startAngle:n,endAngle:u,clockwise:m,cx:o,cy:s,r0:c,r:x?(0,U.Cb)(e,A,[c,l]):l}),I=r}})),C<q&&f)if(C<=.001){var T=S/f;t.each(i,(function(e,a){if(!isNaN(e)){var i=t.getItemLayout(a);i.angle=T;var r=0,n=0;T<h?(r=u+L*(a+.5)*T,n=r):(r=u+L*a*T+w,n=u+L*(a+1)*T-w),i.startAngle=r,i.endAngle=n}}))}else v=C/k,I=u,t.each(i,(function(e,a){if(!isNaN(e)){var i=t.getItemLayout(a),r=i.angle===p?p:e*v,n=0,o=0;r<h?(n=I+L*r/2,o=n):(n=I+w,o=I+L*r-w),i.startAngle=n,i.endAngle=o,I+=L*r}}))}))}var te=(0,Z.$r)(),ae=a(1354),ie=a(3952),re=a(4383),ne=a(7329),oe=a(7034),se=a(4675),le=a(7658),ce=a(7223),ue=(a(4114),a(6391)),de=a(7792),he=a(7844),ge=Math.PI/180;function pe(e,t,a,i,r,n,o,s,l,c){if(!(e.length<2)){for(var u=e.length,d=0;d<u;d++)if("outer"===e[d].position&&"labelLine"===e[d].labelAlignTo){var h=e[d].label.x-c;e[d].linePoints[1][0]+=h,e[d].label.x=c}(0,he.Xe)(e,l,l+o)&&p(e)}function g(e){for(var n=e.rB,o=n*n,s=0;s<e.list.length;s++){var l=e.list[s],c=Math.abs(l.label.y-a),u=i+l.len,d=u*u,h=Math.sqrt((1-Math.abs(c*c/o))*d),g=t+(h+l.len2)*r,p=g-l.label.x,f=l.targetTextWidth-p*r;ye(l,f,!0),l.label.x=g}}function p(e){for(var n={list:[],maxY:0},o={list:[],maxY:0},s=0;s<e.length;s++)if("none"===e[s].labelAlignTo){var l=e[s],c=l.label.y>a?o:n,u=Math.abs(l.label.y-a);if(u>=c.maxY){var d=l.label.x-t-l.len2*r,h=i+l.len,p=Math.abs(d)<h?Math.sqrt(u*u/(1-d*d/h/h)):h;c.rB=p,c.maxY=u}c.list.push(l)}g(n),g(o)}}function fe(e,t,a,i,r,n,o,s){for(var l=[],c=[],u=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<e.length;h++){var g=e[h].label;ve(e[h])||(g.x<t?(u=Math.min(u,g.x),l.push(e[h])):(d=Math.max(d,g.x),c.push(e[h])))}for(h=0;h<e.length;h++){var p=e[h];if(!ve(p)&&p.linePoints){if(null!=p.labelStyleWidth)continue;g=p.label;var f=p.linePoints,y=void 0;y="edge"===p.labelAlignTo?g.x<t?f[2][0]-p.labelDistance-o-p.edgeDistance:o+r-p.edgeDistance-f[2][0]-p.labelDistance:"labelLine"===p.labelAlignTo?g.x<t?u-o-p.bleedMargin:o+r-d-p.bleedMargin:g.x<t?g.x-o-p.bleedMargin:o+r-g.x-p.bleedMargin,p.targetTextWidth=y,ye(p,y)}}pe(c,t,a,i,1,r,n,o,s,d),pe(l,t,a,i,-1,r,n,o,s,u);for(h=0;h<e.length;h++){p=e[h];if(!ve(p)&&p.linePoints){g=p.label,f=p.linePoints;var v="edge"===p.labelAlignTo,m=g.style.padding,x=m?m[1]+m[3]:0,b=g.style.backgroundColor?0:x,A=p.rect.width+b,L=f[1][0]-f[2][0];v?g.x<t?f[2][0]=o+p.edgeDistance+A+p.labelDistance:f[2][0]=o+r-p.edgeDistance-A-p.labelDistance:(g.x<t?f[2][0]=g.x+p.labelDistance:f[2][0]=g.x-p.labelDistance,f[1][0]=f[2][0]+L),f[1][1]=f[2][1]=g.y}}}function ye(e,t,a){if(void 0===a&&(a=!1),null==e.labelStyleWidth){var i=e.label,r=i.style,n=e.rect,o=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,c=r.overflow,u=n.width+(o?0:l);if(t<u||a){var d=n.height;if(c&&c.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",t-l);var h=i.getBoundingRect();i.setStyle("width",Math.ceil(h.width)),i.setStyle("backgroundColor",o)}else{var g=t-l,p=t<u?g:a?g>e.unconstrainedWidth?null:g:null;i.setStyle("width",p)}var f=i.getBoundingRect();n.width=f.width;var y=(i.style.margin||0)+2.1;n.height=f.height+y,n.y-=(n.height-d)/2}}}function ve(e){return"center"===e.position}function me(e){var t,a,i=e.getData(),r=[],n=!1,o=(e.get("minShowLabelAngle")||0)*ge,s=i.getLayout("viewRect"),l=i.getLayout("r"),c=s.width,u=s.x,d=s.y,h=s.height;function g(e){e.ignore=!0}function p(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}i.each((function(e){var s=i.getItemGraphicEl(e),d=s.shape,h=s.getTextContent(),f=s.getTextGuideLine(),y=i.getItemModel(e),v=y.getModel("label"),m=v.get("position")||y.get(["emphasis","label","position"]),x=v.get("distanceToLabelLine"),b=v.get("alignTo"),A=(0,U.lo)(v.get("edgeDistance"),c),L=v.get("bleedMargin"),M=y.getModel("labelLine"),w=M.get("length");w=(0,U.lo)(w,c);var _=M.get("length2");if(_=(0,U.lo)(_,c),Math.abs(d.endAngle-d.startAngle)<o)return(0,Y.__)(h.states,g),h.ignore=!0,void(f&&((0,Y.__)(f.states,g),f.ignore=!0));if(p(h)){var S,C,k,I,T=(d.startAngle+d.endAngle)/2,D=Math.cos(T),E=Math.sin(T);t=d.cx,a=d.cy;var P="inside"===m||"inner"===m;if("center"===m)S=d.cx,C=d.cy,I="center";else{var N=(P?(d.r+d.r0)/2*D:d.r*D)+t,R=(P?(d.r+d.r0)/2*E:d.r*E)+a;if(S=N+3*D,C=R+3*E,!P){var O=N+D*(w+l-d.r),V=R+E*(w+l-d.r),G=O+(D<0?-1:1)*_,F=V;S="edge"===b?D<0?u+A:u+c-A:G+(D<0?-x:x),C=F,k=[[N,R],[O,V],[G,F]]}I=P?"center":"edge"===b?D>0?"right":"left":D>0?"left":"right"}var B=Math.PI,W=0,z=v.get("rotate");if((0,Y.Et)(z))W=z*(B/180);else if("center"===m)W=0;else if("radial"===z||!0===z){var X=D<0?-T+B:-T;W=X}else if("tangential"===z&&"outside"!==m&&"outer"!==m){var H=Math.atan2(D,E);H<0&&(H=2*B+H);var $=E>0;$&&(H=B+H),W=H-B}if(n=!!W,h.x=S,h.y=C,h.rotation=W,h.setStyle({verticalAlign:"middle"}),P){h.setStyle({align:I});var j=h.states.select;j&&(j.x+=h.x,j.y+=h.y)}else{var Z=h.getBoundingRect().clone();Z.applyTransform(h.getComputedTransform());var q=(h.style.margin||0)+2.1;Z.y-=q/2,Z.height+=q,r.push({label:h,labelLine:f,position:m,len:w,len2:_,minTurnAngle:M.get("minTurnAngle"),maxSurfaceAngle:M.get("maxSurfaceAngle"),surfaceNormal:new ue.A(D,E),linePoints:k,textAlign:I,labelDistance:x,labelAlignTo:b,edgeDistance:A,bleedMargin:L,rect:Z,unconstrainedWidth:Z.width,labelStyleWidth:h.style.width})}s.setTextConfig({inside:P})}})),!n&&e.get("avoidLabelOverlap")&&fe(r,t,a,l,c,h,u,d);for(var f=0;f<r.length;f++){var y=r[f],v=y.label,m=y.labelLine,x=isNaN(v.x)||isNaN(v.y);if(v){v.setStyle({align:y.textAlign}),x&&((0,Y.__)(v.states,g),v.ignore=!0);var b=v.states.select;b&&(b.x+=v.x,b.y+=v.y)}if(m){var A=y.linePoints;x||!A?((0,Y.__)(m.states,g),m.ignore=!0):((0,de.YI)(A,y.minTurnAngle),(0,de.QK)(A,y.surfaceNormal,y.maxSurfaceAngle),m.setShape({points:A}),v.__hostTarget.textGuideLineConfig={anchor:new ue.A(A[0][0],A[0][1])})}}}var xe=a(3269),be=a(1323);function Ae(e,t,a){var i=e.get("borderRadius");if(null==i)return a?{cornerRadius:0}:null;(0,Y.cy)(i)||(i=[i,i,i,i]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:(0,Y.Tj)(i,(function(e){return(0,be.lo)(e,r)}))}}var Le=function(e){function t(t,a,i){var r=e.call(this)||this;r.z2=2;var n=new re.Ay;return r.setTextContent(n),r.updateData(t,a,i,!0),r}return(0,ie.C6)(t,e),t.prototype.updateData=function(e,t,a,i){var r=this,n=e.hostModel,o=e.getItemModel(t),s=o.getModel("emphasis"),l=e.getItemLayout(t),c=(0,Y.X$)(Ae(o.getModel("itemStyle"),l,!0),l);if(isNaN(c.startAngle))r.setShape(c);else{if(i){r.setShape(c);var u=n.getShallow("animationType");n.ecModel.ssr?(ne.LW(r,{scaleX:0,scaleY:0},n,{dataIndex:t,isFrom:!0}),r.originX=c.cx,r.originY=c.cy):"scale"===u?(r.shape.r=l.r0,ne.LW(r,{shape:{r:l.r}},n,t)):null!=a?(r.setShape({startAngle:a,endAngle:a}),ne.LW(r,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},n,t)):(r.shape.endAngle=l.startAngle,ne.oi(r,{shape:{endAngle:l.endAngle}},n,t))}else(0,ne.ap)(r),ne.oi(r,{shape:c},n,t);r.useStyle(e.getItemVisual(t,"style")),(0,le.Mx)(r,o);var d=(l.startAngle+l.endAngle)/2,h=n.get("selectedOffset"),g=Math.cos(d)*h,p=Math.sin(d)*h,f=o.getShallow("cursor");f&&r.attr("cursor",f),this._updateLabel(n,e,t),r.ensureState("emphasis").shape=(0,Y.X$)({r:l.r+(s.get("scale")&&s.get("scaleSize")||0)},Ae(s.getModel("itemStyle"),l)),(0,Y.X$)(r.ensureState("select"),{x:g,y:p,shape:Ae(o.getModel(["select","itemStyle"]),l)}),(0,Y.X$)(r.ensureState("blur"),{shape:Ae(o.getModel(["blur","itemStyle"]),l)});var y=r.getTextGuideLine(),v=r.getTextContent();y&&(0,Y.X$)(y.ensureState("select"),{x:g,y:p}),(0,Y.X$)(v.ensureState("select"),{x:g,y:p}),(0,le.Lm)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},t.prototype._updateLabel=function(e,t,a){var i=this,r=t.getItemModel(a),n=r.getModel("labelLine"),o=t.getItemVisual(a,"style"),s=o&&o.fill,l=o&&o.opacity;(0,xe.qM)(i,(0,xe.lx)(r),{labelFetcher:t.hostModel,labelDataIndex:a,inheritColor:s,defaultOpacity:l,defaultText:e.getFormattedLabel(a,"normal")||t.getName(a)});var c=i.getTextContent();i.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var u=e.get(["label","position"]);if("outside"!==u&&"outer"!==u)i.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new oe.A,this.setTextGuideLine(d)),(0,de.eR)(this,(0,de.rv)(r),{stroke:s,opacity:(0,Y.WV)(n.get(["lineStyle","opacity"]),l,1)})}},t}(se.A),Me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,ie.C6)(t,e),t.prototype.render=function(e,t,a,i){var r,n=e.getData(),o=this._data,s=this.group;if(!o&&n.count()>0){for(var l=n.getItemLayout(0),c=1;isNaN(l&&l.startAngle)&&c<n.count();++c)l=n.getItemLayout(c);l&&(r=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===n.count()&&e.get("showEmptyCircle")){var u=te(e),d=new se.A({shape:(0,Y.X$)(Q(e,a),u)});d.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,s.add(d)}n.diff(o).add((function(e){var t=new Le(n,e,r);n.setItemGraphicEl(e,t),s.add(t)})).update((function(e,t){var a=o.getItemGraphicEl(t);a.updateData(n,e,r),a.off("click"),s.add(a),n.setItemGraphicEl(e,a)})).remove((function(t){var a=o.getItemGraphicEl(t);ne.t5(a,e,t)})).execute(),me(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=n)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var a=t.getData(),i=a.getItemLayout(0);if(i){var r=e[0]-i.cx,n=e[1]-i.cy,o=Math.sqrt(r*r+n*n);return o<=i.r&&o>=i.r0}},t.type="pie",t}(ce.A),we=Me,_e=a(1776),Se=a(5334),Ce=a(5148),ke=a(7623),Ie=Z.$r(),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ie.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ce.A(Y.oI(this.getData,this),Y.oI(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return(0,_e.A)(this,{coordDimensions:["value"],encodeDefaulter:Y.cF(Se.ln,this)})},t.prototype.getDataParams=function(t){var a=this.getData(),i=Ie(a),r=i.seats;if(!r){var n=[];a.each(a.mapDimension("value"),(function(e){n.push(e)})),r=i.seats=(0,U.kM)(n,a.hostModel.get("percentPrecision"))}var o=e.prototype.getDataParams.call(this,t);return o.percent=r[t]||0,o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(e){Z.M5(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(ke.A),De=Te;function Ee(e){return{seriesType:e,reset:function(e,t){var a=e.getData();a.filterSelf((function(e){var t=a.mapDimension("value"),i=a.get(t,e);return!((0,Y.Et)(i)&&!isNaN(i)&&i<0)}))}}}function Pe(e){e.registerChartView(we),e.registerSeriesModel(De),(0,H.I)("pie",e.registerAction),e.registerLayout((0,Y.cF)(ee,"pie")),e.registerProcessor((0,ae.A)("pie")),e.registerProcessor(Ee("pie"))}var Ne=a(149),Re={average:function(e){for(var t=0,a=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],a++);return 0===a?NaN:t/a},sum:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a]||0;return t},max:function(e){for(var t=-1/0,a=0;a<e.length;a++)e[a]>t&&(t=e[a]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,a=0;a<e.length;a++)e[a]<t&&(t=e[a]);return isFinite(t)?t:NaN},minmax:function(e){for(var t=-1/0,a=-1/0,i=0;i<e.length;i++){var r=e[i],n=Math.abs(r);n>t&&(t=n,a=r)}return isFinite(a)?a:NaN},nearest:function(e){return e[0]}},Oe=function(e){return Math.round(e.length/2)};function Ve(e){return{seriesType:e,reset:function(e,t,a){var i=e.getData(),r=e.get("sampling"),n=e.coordinateSystem,o=i.count();if(o>10&&"cartesian2d"===n.type&&r){var s=n.getBaseAxis(),l=n.getOtherAxis(s),c=s.getExtent(),u=a.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(u||1),h=Math.round(o/d);if(isFinite(h)&&h>1){"lttb"===r&&e.setData(i.lttbDownSample(i.mapDimension(l.dim),1/h));var g=void 0;(0,Y.Kg)(r)?g=Re[r]:(0,Y.Tn)(r)&&(g=r),g&&e.setData(i.downSample(i.mapDimension(l.dim),1/h,g,Oe))}}}}}var Ge=a(5704),Fe=a(4122),Be=a(8803),We=a(3798),ze=function(){function e(e){this.coordSysDims=[],this.axisMap=(0,Y.nt)(),this.categoryAxisMap=(0,Y.nt)(),this.coordSysName=e}return e}();function Xe(e){var t=e.get("coordinateSystem"),a=new ze(t),i=He[t];if(i)return i(e,a,a.axisMap,a.categoryAxisMap),a}var He={cartesian2d:function(e,t,a,i){var r=e.getReferringComponents("xAxis",Z.US).models[0],n=e.getReferringComponents("yAxis",Z.US).models[0];t.coordSysDims=["x","y"],a.set("x",r),a.set("y",n),Ue(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),Ue(n)&&(i.set("y",n),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,a,i){var r=e.getReferringComponents("singleAxis",Z.US).models[0];t.coordSysDims=["single"],a.set("single",r),Ue(r)&&(i.set("single",r),t.firstCategoryDimIndex=0)},polar:function(e,t,a,i){var r=e.getReferringComponents("polar",Z.US).models[0],n=r.findAxisModel("radiusAxis"),o=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],a.set("radius",n),a.set("angle",o),Ue(n)&&(i.set("radius",n),t.firstCategoryDimIndex=0),Ue(o)&&(i.set("angle",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,a,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,a,i){var r=e.ecModel,n=r.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=n.dimensions.slice();(0,Y.__)(n.parallelAxisIndex,(function(e,n){var s=r.getComponent("parallelAxis",e),l=o[n];a.set(l,s),Ue(s)&&(i.set(l,s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=n))}))}};function Ue(e){return"category"===e.get("type")}var $e=a(5409),Ye=a(2799),je=a(7019);function Ze(e,t){var a,i=e.get("coordinateSystem"),r=We.A.get(i);return t&&t.coordSysDims&&(a=Y.Tj(t.coordSysDims,(function(e){var a={name:e},i=t.axisMap.get(e);if(i){var r=i.get("type");a.type=(0,Be.B)(r)}return a}))),a||(a=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),a}function qe(e,t,a){var i,r;return a&&Y.__(e,(function(e,n){var o=e.coordDim,s=a.categoryAxisMap.get(o);s&&(null==i&&(i=n),e.ordinalMeta=s.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(r=!0)})),r||null==i||(e[i].otherDims.itemName=0),i}function Ke(e,t,a){a=a||{};var i,r=t.getSourceManager(),n=!1;e?(n=!0,i=(0,$e.AF)(e)):(i=r.getSource(),n=i.sourceFormat===je.mK);var o=Xe(t),s=Ze(t,o),l=a.useEncodeDefaulter,c=Y.Tn(l)?l:l?Y.cF(Se.OC,s,t):null,u={coordDimensions:s,generateCoord:a.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!n},d=(0,Fe.A)(i,u),h=qe(d.dimensions,a.createInvertedIndices,o),g=n?null:r.getSharedDataStore(d),p=(0,Ye.iJ)(t,{schema:d,store:g}),f=new Ge.A(d,t);f.setCalculationInfo(p);var y=null!=h&&Je(i)?function(e,t,a,i){return i===h?a:this.defaultDimValueGetter(e,t,a,i)}:null;return f.hasItemOption=!1,f.initData(n?i:g,null,y),f}function Je(e){if(e.sourceFormat===je.mK){var t=Qe(e.data||[]);return!Y.cy((0,Z.vj)(t))}}function Qe(e){var t=0;while(t<e.length&&null==e[t])t++;return e[t]}var et=Ke,tt=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,ie.C6)(t,e),t.prototype.getInitialData=function(e,t){return et(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,a){var i=this.coordinateSystem;if(i&&i.clampData){var r=i.clampData(e),n=i.dataToPoint(r);if(a)(0,Y.__)(i.getAxes(),(function(e,a){if("category"===e.type&&null!=t){var i=e.getTicksCoords(),o=e.getTickModel().get("alignWithLabel"),s=r[a],l="x1"===t[a]||"y1"===t[a];if(l&&!o&&(s+=1),i.length<2)return;if(2===i.length)return void(n[a]=e.toGlobalCoord(e.getExtent()[l?1:0]));for(var c=void 0,u=void 0,d=1,h=0;h<i.length;h++){var g=i[h].coord,p=h===i.length-1?i[h-1].tickValue+d:i[h].tickValue;if(p===s){u=g;break}if(p<s)c=g;else if(null!=c&&p>s){u=(g+c)/2;break}1===h&&(d=p-i[0].tickValue)}null==u&&(c?c&&(u=i[i.length-1].coord):u=i[0].coord),n[a]=e.toGlobalCoord(u)}}));else{var o=this.getData(),s=o.getLayout("offset"),l=o.getLayout("size"),c=i.getBaseAxis().isHorizontal()?0:1;n[c]+=s+l/2}return n}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(ke.A);ke.A.registerClass(tt);var at=tt,it=a(909),rt=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,ie.C6)(t,e),t.prototype.getInitialData=function(){return et(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,a){return a.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=(0,it.G_)(at.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(at),nt=rt,ot=a(3828),st=a(7989),lt=a(4175),ct=a(5859),ut=a(8565),dt=a(9076);function ht(e,t,a,i,r){var n=e.getArea(),o=n.x,s=n.y,l=n.width,c=n.height,u=a.get(["lineStyle","width"])||2;o-=u/2,s-=u/2,l+=u,c+=u,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var d=new ct.A({shape:{x:o,y:s,width:l,height:c}});if(t){var h=e.getBaseAxis(),g=h.isHorizontal(),p=h.inverse;g?(p&&(d.shape.x+=l),d.shape.width=0):(p||(d.shape.y+=c),d.shape.height=0);var f=(0,Y.Tn)(r)?function(e){r(e,d)}:null;ne.LW(d,{shape:{width:l,height:c,x:o,y:s}},a,null,i,f)}return d}function gt(e,t,a){var i=e.getArea(),r=(0,U.LI)(i.r0,1),n=(0,U.LI)(i.r,1),o=new se.A({shape:{cx:(0,U.LI)(e.cx,1),cy:(0,U.LI)(e.cy,1),r0:r,r:n,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(t){var s="angle"===e.getBaseAxis().dim;s?o.shape.endAngle=i.startAngle:o.shape.r=r,ne.LW(o,{shape:{endAngle:i.endAngle,r:n}},a)}return o}function pt(e,t,a,i,r){return e?"polar"===e.type?gt(e,t,a):"cartesian2d"===e.type?ht(e,t,a,i,r):null:null}var ft=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return e}(),yt=function(e){function t(t){var a=e.call(this,t)||this;return a.type="sausage",a}return(0,ie.C6)(t,e),t.prototype.getDefaultShape=function(){return new ft},t.prototype.buildPath=function(e,t){var a=t.cx,i=t.cy,r=Math.max(t.r0||0,0),n=Math.max(t.r,0),o=.5*(n-r),s=r+o,l=t.startAngle,c=t.endAngle,u=t.clockwise,d=2*Math.PI,h=u?c-l<d:l-c<d;h||(l=c-(u?d:-d));var g=Math.cos(l),p=Math.sin(l),f=Math.cos(c),y=Math.sin(c);h?(e.moveTo(g*r+a,p*r+i),e.arc(g*s+a,p*s+i,o,-Math.PI+l,l,!u)):e.moveTo(g*n+a,p*n+i),e.arc(a,i,n,l,c,!u),e.arc(f*s+a,y*s+i,o,c-2*Math.PI,c-Math.PI,!u),0!==r&&e.arc(a,i,r,c,l,u)},t}(ot.Ay),vt=yt;function mt(e,t){return e.type===t}var xt=a(9678);function bt(e,t){var a=e.mapDimensionsAll("defaultedLabel"),i=a.length;if(1===i){var r=(0,xt.QE)(e,t,a[0]);return null!=r?r+"":null}if(i){for(var n=[],o=0;o<a.length;o++)n.push((0,xt.QE)(e,t,a[o]));return n.join(" ")}}function At(e,t){var a=e.mapDimensionsAll("defaultedLabel");if(!(0,Y.cy)(t))return t+"";for(var i=[],r=0;r<a.length;r++){var n=e.getDimensionIndex(a[r]);n>=0&&i.push(t[n])}return i.join(" ")}function Lt(e,t){t=t||{};var a=t.isRoundCap;return function(t,i,r){var n=i.position;if(!n||n instanceof Array)return(0,be.X4)(t,i,r);var o=e(n),s=null!=i.distance?i.distance:5,l=this.shape,c=l.cx,u=l.cy,d=l.r,h=l.r0,g=(d+h)/2,p=l.startAngle,f=l.endAngle,y=(p+f)/2,v=a?Math.abs(d-h)/2:0,m=Math.cos,x=Math.sin,b=c+d*m(p),A=u+d*x(p),L="left",M="top";switch(o){case"startArc":b=c+(h-s)*m(y),A=u+(h-s)*x(y),L="center",M="top";break;case"insideStartArc":b=c+(h+s)*m(y),A=u+(h+s)*x(y),L="center",M="bottom";break;case"startAngle":b=c+g*m(p)+wt(p,s+v,!1),A=u+g*x(p)+_t(p,s+v,!1),L="right",M="middle";break;case"insideStartAngle":b=c+g*m(p)+wt(p,-s+v,!1),A=u+g*x(p)+_t(p,-s+v,!1),L="left",M="middle";break;case"middle":b=c+g*m(y),A=u+g*x(y),L="center",M="middle";break;case"endArc":b=c+(d+s)*m(y),A=u+(d+s)*x(y),L="center",M="bottom";break;case"insideEndArc":b=c+(d-s)*m(y),A=u+(d-s)*x(y),L="center",M="top";break;case"endAngle":b=c+g*m(f)+wt(f,s+v,!0),A=u+g*x(f)+_t(f,s+v,!0),L="left",M="middle";break;case"insideEndAngle":b=c+g*m(f)+wt(f,-s+v,!0),A=u+g*x(f)+_t(f,-s+v,!0),L="right",M="middle";break;default:return(0,be.X4)(t,i,r)}return t=t||{},t.x=b,t.y=A,t.align=L,t.verticalAlign=M,t}}function Mt(e,t,a,i){if((0,Y.Et)(i))e.setTextConfig({rotation:i});else if((0,Y.cy)(t))e.setTextConfig({rotation:0});else{var r,n=e.shape,o=n.clockwise?n.startAngle:n.endAngle,s=n.clockwise?n.endAngle:n.startAngle,l=(o+s)/2,c=a(t);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":r=l;break;case"startAngle":case"insideStartAngle":r=o;break;case"endAngle":case"insideEndAngle":r=s;break;default:return void e.setTextConfig({rotation:0})}var u=1.5*Math.PI-r;"middle"===c&&u>Math.PI/2&&u<1.5*Math.PI&&(u-=Math.PI),e.setTextConfig({rotation:u})}}function wt(e,t,a){return t*Math.sin(e)*(a?-1:1)}function _t(e,t,a){return t*Math.cos(e)*(a?1:-1)}var St=Math.max,Ct=Math.min;function kt(e,t){var a=e.getArea&&e.getArea();if(mt(e,"cartesian2d")){var i=e.getBaseAxis();if("category"!==i.type||!i.onBand){var r=t.getLayout("bandWidth");i.isHorizontal()?(a.x-=r,a.width+=2*r):(a.y-=r,a.height+=2*r)}}return a}var It=function(e){function t(){var a=e.call(this)||this;return a.type=t.type,a._isFirstFrame=!0,a}return(0,ie.C6)(t,e),t.prototype.render=function(e,t,a,i){this._model=e,this._removeOnRenderedListener(a),this._updateDrawMode(e);var r=e.get("coordinateSystem");("cartesian2d"===r||"polar"===r)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,a):this._renderNormal(e,t,a,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){(0,lt.traverseElements)(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,a,i){var r,n=this.group,o=e.getData(),s=this._data,l=e.coordinateSystem,c=l.getBaseAxis();"cartesian2d"===l.type?r=c.isHorizontal():"polar"===l.type&&(r="angle"===c.dim);var u=e.isAnimationEnabled()?e:null,d=Et(e,l);d&&this._enableRealtimeSort(d,o,a);var h=e.get("clip",!0)||d,g=kt(l,o);n.removeClipPath();var p=e.get("roundCap",!0),f=e.get("showBackground",!0),y=e.getModel("backgroundStyle"),v=y.get("borderRadius")||0,m=[],x=this._backgroundEls,b=i&&i.isInitSort,A=i&&"changeAxisOrder"===i.type;function L(e){var t=Gt[l.type](o,e),a=Zt(l,r,t);return a.useStyle(y.getItemStyle()),"cartesian2d"===l.type?a.setShape("r",v):a.setShape("cornerRadius",v),m[e]=a,a}o.diff(s).add((function(t){var a=o.getItemModel(t),i=Gt[l.type](o,t,a);if(f&&L(t),o.hasValue(t)&&Vt[l.type](i)){var s=!1;h&&(s=Tt[l.type](g,i));var y=Dt[l.type](e,o,t,i,r,u,c.model,!1,p);d&&(y.forceLabelAnimation=!0),Wt(y,o,t,a,i,e,r,"polar"===l.type),b?y.attr({shape:i}):d?Pt(d,u,y,i,t,r,!1,!1):(0,ne.LW)(y,{shape:i},e,t),o.setItemGraphicEl(t,y),n.add(y),y.ignore=s}})).update((function(t,a){var i=o.getItemModel(t),M=Gt[l.type](o,t,i);if(f){var w=void 0;0===x.length?w=L(a):(w=x[a],w.useStyle(y.getItemStyle()),"cartesian2d"===l.type?w.setShape("r",v):w.setShape("cornerRadius",v),m[t]=w);var _=Gt[l.type](o,t),S=jt(r,_,l);(0,ne.oi)(w,{shape:S},u,t)}var C=s.getItemGraphicEl(a);if(o.hasValue(t)&&Vt[l.type](M)){var k=!1;if(h&&(k=Tt[l.type](g,M),k&&n.remove(C)),C?(0,ne.ap)(C):C=Dt[l.type](e,o,t,M,r,u,c.model,!!C,p),d&&(C.forceLabelAnimation=!0),A){var I=C.getTextContent();if(I){var T=(0,xe.Lu)(I);null!=T.prevValue&&(T.prevValue=T.value)}}else Wt(C,o,t,i,M,e,r,"polar"===l.type);b?C.attr({shape:M}):d?Pt(d,u,C,M,t,r,!0,A):(0,ne.oi)(C,{shape:M},e,t,null),o.setItemGraphicEl(t,C),C.ignore=k,n.add(C)}else n.remove(C)})).remove((function(t){var a=s.getItemGraphicEl(t);a&&(0,ne.t5)(a,e,t)})).execute();var M=this._backgroundGroup||(this._backgroundGroup=new st.A);M.removeAll();for(var w=0;w<m.length;++w)M.add(m[w]);n.add(M),this._backgroundEls=m,this._data=o},t.prototype._renderLarge=function(e,t,a){this._clear(),Ut(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),Ut(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&pt(e.coordinateSystem,!1,e),a=this.group;t?a.setClipPath(t):a.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,a){var i=this;if(t.count()){var r=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,a),this._isFirstFrame=!1;else{var n=function(e){var a=t.getItemGraphicEl(e),i=a&&a.shape;return i&&Math.abs(r.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(t,n,r,a)},a.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,a){var i=[];return e.each(e.mapDimension(t.dim),(function(e,t){var r=a(t);r=null==r?NaN:r,i.push({dataIndex:t,mappedValue:r,ordinalNumber:e})})),i.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:(0,Y.Tj)(i,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,a){for(var i=a.scale,r=e.mapDimension(a.dim),n=Number.MAX_VALUE,o=0,s=i.getOrdinalMeta().categories.length;o<s;++o){var l=e.rawIndexOf(r,i.getRawOrdinalNumber(o)),c=l<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l));if(c>n)return!0;n=c}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var a=t.scale,i=a.getExtent(),r=Math.max(0,i[0]),n=Math.min(i[1],a.getOrdinalMeta().categories.length-1);r<=n;++r)if(e.ordinalNumbers[r]!==a.getRawOrdinalNumber(r))return!0},t.prototype._updateSortWithinSameData=function(e,t,a,i){if(this._isOrderChangedWithinSameData(e,t,a)){var r=this._dataSort(e,a,t);this._isOrderDifferentInView(r,a)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:r}))}},t.prototype._dispatchInitSort=function(e,t,a){var i=t.baseAxis,r=this._dataSort(e,i,(function(a){return e.get(e.mapDimension(t.otherAxis.dim),a)}));a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:r})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,a=this._data;e&&e.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl((function(t){(0,ne.t5)(t,e,(0,ut.z)(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ce.A),Tt={cartesian2d:function(e,t){var a=t.width<0?-1:1,i=t.height<0?-1:1;a<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var r=e.x+e.width,n=e.y+e.height,o=St(t.x,e.x),s=Ct(t.x+t.width,r),l=St(t.y,e.y),c=Ct(t.y+t.height,n),u=s<o,d=c<l;return t.x=u&&o>r?s:o,t.y=d&&l>n?c:l,t.width=u?0:s-o,t.height=d?0:c-l,a<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),u||d},polar:function(e,t){var a=t.r0<=t.r?1:-1;if(a<0){var i=t.r;t.r=t.r0,t.r0=i}var r=Ct(t.r,e.r),n=St(t.r0,e.r0);t.r=r,t.r0=n;var o=r-n<0;if(a<0){i=t.r;t.r=t.r0,t.r0=i}return o}},Dt={cartesian2d:function(e,t,a,i,r,n,o,s,l){var c=new ct.A({shape:(0,Y.X$)({},i),z2:1});if(c.__dataIndex=a,c.name="item",n){var u=c.shape,d=r?"height":"width";u[d]=0}return c},polar:function(e,t,a,i,r,n,o,s,l){var c=!r&&l?vt:se.A,u=new c({shape:i,z2:1});u.name="item";var d=Bt(r);if(u.calculateTextPosition=Lt(d,{isRoundCap:c===vt}),n){var h=u.shape,g=r?"r":"endAngle",p={};h[g]=r?i.r0:i.startAngle,p[g]=i[g],(s?ne.oi:ne.LW)(u,{shape:p},n)}return u}};function Et(e,t){var a=e.get("realtimeSort",!0),i=t.getBaseAxis();if(a&&"category"===i.type&&"cartesian2d"===t.type)return{baseAxis:i,otherAxis:t.getOtherAxis(i)}}function Pt(e,t,a,i,r,n,o,s){var l,c;n?(c={x:i.x,width:i.width},l={y:i.y,height:i.height}):(c={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(o?ne.oi:ne.LW)(a,{shape:l},t,r,null);var u=t?e.baseAxis.model:null;(o?ne.oi:ne.LW)(a,{shape:c},u,r)}function Nt(e,t){for(var a=0;a<t.length;a++)if(!isFinite(e[t[a]]))return!0;return!1}var Rt=["x","y","width","height"],Ot=["cx","cy","r","startAngle","endAngle"],Vt={cartesian2d:function(e){return!Nt(e,Rt)},polar:function(e){return!Nt(e,Ot)}},Gt={cartesian2d:function(e,t,a){var i=e.getItemLayout(t),r=a?zt(a,i):0,n=i.width>0?1:-1,o=i.height>0?1:-1;return{x:i.x+n*r/2,y:i.y+o*r/2,width:i.width-n*r,height:i.height-o*r}},polar:function(e,t,a){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function Ft(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function Bt(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function Wt(e,t,a,i,r,n,o,s){var l=t.getItemVisual(a,"style");if(s){if(!n.get("roundCap")){var c=e.shape,u=Ae(i.getModel("itemStyle"),c,!0);(0,Y.X$)(c,u),e.setShape(c)}}else{var d=i.get(["itemStyle","borderRadius"])||0;e.setShape("r",d)}e.useStyle(l);var h=i.getShallow("cursor");h&&e.attr("cursor",h);var g=s?o?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":o?r.height>=0?"bottom":"top":r.width>=0?"right":"left",p=(0,xe.lx)(i);(0,xe.qM)(e,p,{labelFetcher:n,labelDataIndex:a,defaultText:bt(n.getData(),a),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:g});var f=e.getTextContent();if(s&&f){var y=i.get(["label","position"]);e.textConfig.inside="middle"===y||null,Mt(e,"outside"===y?g:y,Bt(o),i.get(["label","rotate"]))}(0,xe.Oh)(f,p,n.getRawValue(a),(function(e){return At(t,e)}));var v=i.getModel(["emphasis"]);(0,le.Lm)(e,v.get("focus"),v.get("blurScope"),v.get("disabled")),(0,le.Mx)(e,i),Ft(r)&&(e.style.fill="none",e.style.stroke="none",(0,Y.__)(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}function zt(e,t){var a=e.get(["itemStyle","borderColor"]);if(!a||"none"===a)return 0;var i=e.get(["itemStyle","borderWidth"])||0,r=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),n=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(i,r,n)}var Xt=function(){function e(){}return e}(),Ht=function(e){function t(t){var a=e.call(this,t)||this;return a.type="largeBar",a}return(0,ie.C6)(t,e),t.prototype.getDefaultShape=function(){return new Xt},t.prototype.buildPath=function(e,t){for(var a=t.points,i=this.baseDimIdx,r=1-this.baseDimIdx,n=[],o=[],s=this.barWidth,l=0;l<a.length;l+=3)o[i]=s,o[r]=a[l+2],n[i]=a[l+i],n[r]=a[l+r],e.rect(n[0],n[1],o[0],o[1])},t}(ot.Ay);function Ut(e,t,a,i){var r=e.getData(),n=r.getLayout("valueAxisHorizontal")?1:0,o=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=e.getModel("backgroundStyle"),c=r.getLayout("largeBackgroundPoints");if(c){var u=new Ht({shape:{points:c},incremental:!!i,silent:!0,z2:0});u.baseDimIdx=n,u.largeDataIndices=o,u.barWidth=s,u.useStyle(l.getItemStyle()),t.add(u),a&&a.push(u)}var d=new Ht({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=n,d.largeDataIndices=o,d.barWidth=s,t.add(d),d.useStyle(r.getVisual("style")),(0,ut.z)(d).seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",$t),d.on("mousemove",$t)),a&&a.push(d)}var $t=(0,dt.nF)((function(e){var t=this,a=Yt(t,e.offsetX,e.offsetY);(0,ut.z)(t).dataIndex=a>=0?a:null}),30,!1);function Yt(e,t,a){for(var i=e.baseDimIdx,r=1-i,n=e.shape.points,o=e.largeDataIndices,s=[],l=[],c=e.barWidth,u=0,d=n.length/3;u<d;u++){var h=3*u;if(l[i]=c,l[r]=n[h+2],s[i]=n[h+i],s[r]=n[h+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),t>=s[0]&&t<=s[0]+l[0]&&a>=s[1]&&a<=s[1]+l[1])return o[u]}return-1}function jt(e,t,a){if(mt(a,"cartesian2d")){var i=t,r=a.getArea();return{x:e?i.x:r.x,y:e?r.y:i.y,width:e?i.width:r.width,height:e?r.height:i.height}}r=a.getArea();var n=t;return{cx:r.cx,cy:r.cy,r0:e?r.r0:n.r0,r:e?r.r:n.r,startAngle:e?n.startAngle:0,endAngle:e?n.endAngle:2*Math.PI}}function Zt(e,t,a){var i="polar"===e.type?se.A:ct.A;return new i({shape:jt(t,a,e),silent:!0,z2:0})}var qt=It;function Kt(e){e.registerChartView(qt),e.registerSeriesModel(nt),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,Y.cF(Ne.Zp,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,Ne.KF)("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Ve("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var a=e.componentType||"series";t.eachComponent({mainType:a,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))}var Jt=a(3704),Qt=a(623),ea=a(9536),ta=a(5143),aa=a(3484),ia=a(5640),ra=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ie.C6)(t,e),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(ia.A),na=ra,oa=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},e.prototype.getCoordSysModel=function(){},e}(),sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ie.C6)(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Z.US).models[0]},t.type="cartesian2dAxis",t}(ia.A);Y.co(sa,oa);var la={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},ca=Y.h1({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},la),ua=Y.h1({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},la),da=Y.h1({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ua),ha=Y.NT({logBase:10},ua),ga={category:ca,value:ua,time:da,log:ha},pa=a(7686),fa={value:1,category:1,time:1,log:1};function ya(e,t,a,i){(0,Y.__)(fa,(function(r,n){var o=(0,Y.h1)((0,Y.h1)({},ga[n],!0),i,!0),s=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t+"Axis."+n,a}return(0,ie.C6)(a,e),a.prototype.mergeDefaultAndTheme=function(e,t){var a=(0,$.ad)(this),i=a?(0,$.vs)(e):{},r=t.getTheme();(0,Y.h1)(e,r.get(n+"Axis")),(0,Y.h1)(e,this.getDefaultOption()),e.type=va(e),a&&(0,$.YA)(e,i,a)},a.prototype.optionUpdated=function(){var e=this.option;"category"===e.type&&(this.__ordinalMeta=pa.A.createByAxisModel(this))},a.prototype.getCategories=function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},a.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},a.type=t+"Axis."+n,a.defaultOption=o,a}(a);e.registerComponentModel(s)})),e.registerSubTypeDefaulter(t+"Axis",va)}function va(e){return e.type||(e.data?"category":"value")}var ma=a(4314),xa=a(9295),ba=function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return Y.Tj(this._dimList,(function(e){return this._axes[e]}),this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Y.pb(this.getAxes(),(function(t){return t.scale.type===e}))},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}(),Aa=ba,La=a(3944),Ma=a(9006),wa=["x","y"];function _a(e){return"interval"===e.type||"time"===e.type}var Sa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=wa,t}return(0,ie.C6)(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if(_a(e)&&_a(t)){var a=e.getExtent(),i=t.getExtent(),r=this.dataToPoint([a[0],i[0]]),n=this.dataToPoint([a[1],i[1]]),o=a[1]-a[0],s=i[1]-i[0];if(o&&s){var l=(n[0]-r[0])/o,c=(n[1]-r[1])/s,u=r[0]-a[0]*l,d=r[1]-i[0]*c,h=this._transform=[l,0,0,c,u,d];this._invTransform=(0,La.B8)([],h)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var t=this.getAxis("x"),a=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&a.contain(a.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,t){var a=this.dataToPoint(e),i=this.dataToPoint(t),r=this.getArea(),n=new xa.A(a[0],a[1],i[0]-a[0],i[1]-a[1]);return r.intersect(n)},t.prototype.dataToPoint=function(e,t,a){a=a||[];var i=e[0],r=e[1];if(this._transform&&null!=i&&isFinite(i)&&null!=r&&isFinite(r))return(0,Ma.NW)(a,e,this._transform);var n=this.getAxis("x"),o=this.getAxis("y");return a[0]=n.toGlobalCoord(n.dataToCoord(i,t)),a[1]=o.toGlobalCoord(o.dataToCoord(r,t)),a},t.prototype.clampData=function(e,t){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,r=a.getExtent(),n=i.getExtent(),o=a.parse(e[0]),s=i.parse(e[1]);return t=t||[],t[0]=Math.min(Math.max(Math.min(r[0],r[1]),o),Math.max(r[0],r[1])),t[1]=Math.min(Math.max(Math.min(n[0],n[1]),s),Math.max(n[0],n[1])),t},t.prototype.pointToData=function(e,t){var a=[];if(this._invTransform)return(0,Ma.NW)(a,e,this._invTransform);var i=this.getAxis("x"),r=this.getAxis("y");return a[0]=i.coordToData(i.toLocalCoord(e[0]),t),a[1]=r.coordToData(r.toLocalCoord(e[1]),t),a},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(e){e=e||0;var t=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1])-e,r=Math.min(a[0],a[1])-e,n=Math.max(t[0],t[1])-i+e,o=Math.max(a[0],a[1])-r+e;return new xa.A(i,r,n,o)},t}(Aa),Ca=Sa,ka=(0,Z.$r)();function Ia(e,t){var a=Y.Tj(t,(function(t){return e.scale.parse(t)}));return"time"===e.type&&a.length>0&&(a.sort(),a.unshift(a[0]),a.push(a[a.length-1])),a}function Ta(e){var t=e.getLabelModel().get("customValues");if(t){var a=(0,ma.ry)(e);return{labels:Ia(e,t).map((function(t){var i={value:t};return{formattedLabel:a(i),rawLabel:e.scale.getLabel(i),tickValue:t}}))}}return"category"===e.type?Ea(e):Ra(e)}function Da(e,t){var a=e.getTickModel().get("customValues");return a?{ticks:Ia(e,a)}:"category"===e.type?Na(e,t):{ticks:Y.Tj(e.scale.getTicks(),(function(e){return e.value}))}}function Ea(e){var t=e.getLabelModel(),a=Pa(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:a.labelCategoryInterval}:a}function Pa(e,t){var a,i,r=Oa(e,"labels"),n=(0,ma.j2)(t),o=Va(r,n);return o||(Y.Tn(n)?a=Xa(e,n):(i="auto"===n?Fa(e):n,a=za(e,i)),Ga(r,n,{labels:a,labelCategoryInterval:i}))}function Na(e,t){var a,i,r=Oa(e,"ticks"),n=(0,ma.j2)(t),o=Va(r,n);if(o)return o;if(t.get("show")&&!e.scale.isBlank()||(a=[]),Y.Tn(n))a=Xa(e,n,!0);else if("auto"===n){var s=Pa(e,e.getLabelModel());i=s.labelCategoryInterval,a=Y.Tj(s.labels,(function(e){return e.tickValue}))}else i=n,a=za(e,i,!0);return Ga(r,n,{ticks:a,tickCategoryInterval:i})}function Ra(e){var t=e.scale.getTicks(),a=(0,ma.ry)(e);return{labels:Y.Tj(t,(function(t,i){return{level:t.level,formattedLabel:a(t,i),rawLabel:e.scale.getLabel(t),tickValue:t.value}}))}}function Oa(e,t){return ka(e)[t]||(ka(e)[t]=[])}function Va(e,t){for(var a=0;a<e.length;a++)if(e[a].key===t)return e[a].value}function Ga(e,t,a){return e.push({key:t,value:a}),a}function Fa(e){var t=ka(e).autoInterval;return null!=t?t:ka(e).autoInterval=e.calculateCategoryInterval()}function Ba(e){var t=Wa(e),a=(0,ma.ry)(e),i=(t.axisRotate-t.labelRotate)/180*Math.PI,r=e.scale,n=r.getExtent(),o=r.count();if(n[1]-n[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=n[0],c=e.dataToCoord(l+1)-e.dataToCoord(l),u=Math.abs(c*Math.cos(i)),d=Math.abs(c*Math.sin(i)),h=0,g=0;l<=n[1];l+=s){var p=0,f=0,y=be.NO(a({value:l}),t.font,"center","top");p=1.3*y.width,f=1.3*y.height,h=Math.max(h,p,7),g=Math.max(g,f,7)}var v=h/u,m=g/d;isNaN(v)&&(v=1/0),isNaN(m)&&(m=1/0);var x=Math.max(0,Math.floor(Math.min(v,m))),b=ka(e.model),A=e.getExtent(),L=b.lastAutoInterval,M=b.lastTickCount;return null!=L&&null!=M&&Math.abs(L-x)<=1&&Math.abs(M-o)<=1&&L>x&&b.axisExtent0===A[0]&&b.axisExtent1===A[1]?x=L:(b.lastTickCount=o,b.lastAutoInterval=x,b.axisExtent0=A[0],b.axisExtent1=A[1]),x}function Wa(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function za(e,t,a){var i=(0,ma.ry)(e),r=e.scale,n=r.getExtent(),o=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),c=n[0],u=r.count();0!==c&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var d=(0,ma.PJ)(e),h=o.get("showMinLabel")||d,g=o.get("showMaxLabel")||d;h&&c!==n[0]&&f(n[0]);for(var p=c;p<=n[1];p+=l)f(p);function f(e){var t={value:e};s.push(a?e:{formattedLabel:i(t),rawLabel:r.getLabel(t),tickValue:e})}return g&&p-l!==n[1]&&f(n[1]),s}function Xa(e,t,a){var i=e.scale,r=(0,ma.ry)(e),n=[];return Y.__(i.getTicks(),(function(e){var o=i.getLabel(e),s=e.value;t(e.value,o)&&n.push(a?s:{formattedLabel:r(e),rawLabel:o,tickValue:s})})),n}var Ha=[0,1],Ua=function(){function e(e,t,a){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=a||[0,0]}return e.prototype.contain=function(e){var t=this._extent,a=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=a&&e<=i},e.prototype.containData=function(e){return this.scale.contain(e)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return(0,U.hb)(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var a=this._extent;a[0]=e,a[1]=t},e.prototype.dataToCoord=function(e,t){var a=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&(a=a.slice(),$a(a,i.count())),(0,U.Cb)(e,Ha,a,t)},e.prototype.coordToData=function(e,t){var a=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&(a=a.slice(),$a(a,i.count()));var r=(0,U.Cb)(e,a,Ha,t);return this.scale.scale(r)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),a=Da(this,t),i=a.ticks,r=(0,Y.Tj)(i,(function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this),n=t.get("alignWithLabel");return Ya(this,r,n,e.clamp),r},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var a=this.scale.getMinorTicks(t),i=(0,Y.Tj)(a,(function(e){return(0,Y.Tj)(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this);return i},e.prototype.getViewLabels=function(){return Ta(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),a=t[1]-t[0]+(this.onBand?1:0);0===a&&(a=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/a},e.prototype.calculateCategoryInterval=function(){return Ba(this)},e}();function $a(e,t){var a=e[1]-e[0],i=t,r=a/i/2;e[0]+=r,e[1]-=r}function Ya(e,t,a,i){var r=t.length;if(e.onBand&&!a&&r){var n,o,s=e.getExtent();if(1===r)t[0].coord=s[0],n=t[1]={coord:s[1]};else{var l=t[r-1].tickValue-t[0].tickValue,c=(t[r-1].coord-t[0].coord)/l;(0,Y.__)(t,(function(e){e.coord-=c/2}));var u=e.scale.getExtent();o=1+u[1]-t[r-1].tickValue,n={coord:t[r-1].coord+c*o},t.push(n)}var d=s[0]>s[1];h(t[0].coord,s[0])&&(i?t[0].coord=s[0]:t.shift()),i&&h(s[0],t[0].coord)&&t.unshift({coord:s[0]}),h(s[1],n.coord)&&(i?n.coord=s[1]:t.pop()),i&&h(n.coord,s[1])&&t.push({coord:s[1]})}function h(e,t){return e=(0,U.LI)(e),t=(0,U.LI)(t),d?e>t:e<t}}var ja=Ua,Za=function(e){function t(t,a,i,r,n){var o=e.call(this,t,a,i)||this;return o.index=0,o.type=r||"value",o.position=n||"bottom",o}return(0,ie.C6)(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(ja),qa=Za,Ka=a(293),Ja=a(3578),Qa=a(9299),ei=Math.log;function ti(e,t,a){var i=Qa.A.prototype,r=i.getTicks.call(a),n=i.getTicks.call(a,!0),o=r.length-1,s=i.getInterval.call(a),l=(0,ma.Rx)(e,t),c=l.extent,u=l.fixMin,d=l.fixMax;if("log"===e.type){var h=ei(e.base);c=[ei(c[0])/h,ei(c[1])/h]}e.setExtent(c[0],c[1]),e.calcNiceExtent({splitNumber:o,fixMin:u,fixMax:d});var g=i.getExtent.call(e);u&&(c[0]=g[0]),d&&(c[1]=g[1]);var p=i.getInterval.call(e),f=c[0],y=c[1];if(u&&d)p=(y-f)/o;else if(u){y=c[0]+p*o;while(y<c[1]&&isFinite(y)&&isFinite(c[1]))p=(0,Ja.kH)(p),y=c[0]+p*o}else if(d){f=c[1]-p*o;while(f>c[0]&&isFinite(f)&&isFinite(c[0]))p=(0,Ja.kH)(p),f=c[1]-p*o}else{var v=e.getTicks().length-1;v>o&&(p=(0,Ja.kH)(p));var m=p*o;y=Math.ceil(c[1]/p)*p,f=(0,U.LI)(y-m),f<0&&c[0]>=0?(f=0,y=(0,U.LI)(m)):y>0&&c[1]<=0&&(y=0,f=-(0,U.LI)(m))}var x=(r[0].value-n[0].value)/s,b=(r[o].value-n[o].value)/s;i.setExtent.call(e,f+p*x,y+p*b),i.setInterval.call(e,p),(x||b)&&i.setNiceExtent.call(e,f+p,y-p)}var ai=function(){function e(e,t,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=wa,this._initCartesian(e,t,a),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var a=this._axesMap;function i(e){var t,a=(0,Y.HP)(e),i=a.length;if(i){for(var r=[],n=i-1;n>=0;n--){var o=+a[n],s=e[o],l=s.model,c=s.scale;(0,Ja.rf)(c)&&l.get("alignTicks")&&null==l.get("interval")?r.push(s):((0,ma.af)(c,l),(0,Ja.rf)(c)&&(t=s))}r.length&&(t||(t=r.pop(),(0,ma.af)(t.scale,t.model)),(0,Y.__)(r,(function(e){ti(e.scale,e.model,t.scale)})))}}this._updateScale(e,this.model),i(a.x),i(a.y);var r={};(0,Y.__)(a.x,(function(e){ri(a,"y",e,r)})),(0,Y.__)(a.y,(function(e){ri(a,"x",e,r)})),this.resize(this.model,t)},e.prototype.resize=function(e,t,a){var i=e.getBoxLayoutParams(),r=!a&&e.get("containLabel"),n=(0,$.dV)(i,{width:t.getWidth(),height:t.getHeight()});this._rect=n;var o=this._axesList;function s(){(0,Y.__)(o,(function(e){var t=e.isHorizontal(),a=t?[0,n.width]:[0,n.height],i=e.inverse?1:0;e.setExtent(a[i],a[1-i]),oi(e,t?n.x:n.y)}))}s(),r&&((0,Y.__)(o,(function(e){if(!e.model.get(["axisLabel","inside"])){var t=(0,ma.Og)(e);if(t){var a=e.isHorizontal()?"height":"width",i=e.model.get(["axisLabel","margin"]);n[a]-=t[a]+i,"top"===e.position?n.y+=t.height+i:"left"===e.position&&(n.x+=t.width+i)}}})),s()),(0,Y.__)(this._coordsList,(function(e){e.calcAffineTransform()}))},e.prototype.getAxis=function(e,t){var a=this._axesMap[e];if(null!=a)return a[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var a="x"+e+"y"+t;return this._coordsMap[a]}(0,Y.Gv)(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===e||r[i].getAxis("y").index===t)return r[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,a){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(a):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(a)):null},e.prototype.convertFromPixel=function(e,t,a){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(a):i.axis?i.axis.coordToData(i.axis.toLocalCoord(a)):null},e.prototype._findConvertTarget=function(e){var t,a,i=e.seriesModel,r=e.xAxisModel||i&&i.getReferringComponents("xAxis",Z.US).models[0],n=e.yAxisModel||i&&i.getReferringComponents("yAxis",Z.US).models[0],o=e.gridModel,s=this._coordsList;if(i)t=i.coordinateSystem,(0,Y.qh)(s,t)<0&&(t=null);else if(r&&n)t=this.getCartesian(r.componentIndex,n.componentIndex);else if(r)a=this.getAxis("x",r.componentIndex);else if(n)a=this.getAxis("y",n.componentIndex);else if(o){var l=o.coordinateSystem;l===this&&(t=this._coordsList[0])}return{cartesian:t,axis:a}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,a){var i=this,r=this,n={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},s={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(t){return function(a,i){if(ii(a,e)){var l=a.get("position");"x"===t?"top"!==l&&"bottom"!==l&&(l=n.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=n.left?"right":"left"),n[l]=!0;var c=new qa(t,(0,ma.f$)(a),[0,0],a.get("type"),l),u="category"===c.type;c.onBand=u&&a.get("boundaryGap"),c.inverse=a.get("inverse"),a.axis=c,c.model=a,c.grid=r,c.index=i,r._axesList.push(c),o[t][i]=c,s[t]++}}}this._axesMap=o,(0,Y.__)(o.x,(function(t,a){(0,Y.__)(o.y,(function(r,n){var o="x"+a+"y"+n,s=new Ca(o);s.master=i,s.model=e,i._coordsMap[o]=s,i._coordsList.push(s),s.addAxis(t),s.addAxis(r)}))}))},e.prototype._updateScale=function(e,t){function a(e,t){(0,Y.__)((0,ma.wq)(e,t.dim),(function(a){t.scale.unionExtentFromData(e,a)}))}(0,Y.__)(this._axesList,(function(e){if(e.scale.setExtent(1/0,-1/0),"category"===e.type){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}})),e.eachSeries((function(e){if((0,Ka.gO)(e)){var i=(0,Ka.LR)(e),r=i.xAxisModel,n=i.yAxisModel;if(!ii(r,t)||!ii(n,t))return;var o=this.getCartesian(r.componentIndex,n.componentIndex),s=e.getData(),l=o.getAxis("x"),c=o.getAxis("y");a(s,l),a(s,c)}}),this)},e.prototype.getTooltipAxes=function(e){var t=[],a=[];return(0,Y.__)(this.getCartesians(),(function(i){var r=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),n=i.getOtherAxis(r);(0,Y.qh)(t,r)<0&&t.push(r),(0,Y.qh)(a,n)<0&&a.push(n)})),{baseAxes:t,otherAxes:a}},e.create=function(t,a){var i=[];return t.eachComponent("grid",(function(r,n){var o=new e(r,t,a);o.name="grid_"+n,o.resize(r,a,!0),r.coordinateSystem=o,i.push(o)})),t.eachSeries((function(e){if((0,Ka.gO)(e)){var t=(0,Ka.LR)(e),a=t.xAxisModel,i=t.yAxisModel,r=a.getCoordSysModel();0;var n=r.coordinateSystem;e.coordinateSystem=n.getCartesian(a.componentIndex,i.componentIndex)}})),i},e.dimensions=wa,e}();function ii(e,t){return e.getCoordSysModel()===t}function ri(e,t,a,i){a.getAxesOnZeroOf=function(){return r?[r]:[]};var r,n=e[t],o=a.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)ni(n[l])&&(r=n[l]);else for(var c in n)if(n.hasOwnProperty(c)&&ni(n[c])&&!i[u(n[c])]){r=n[c];break}r&&(i[u(r)]=!0)}function u(e){return e.dim+"_"+e.index}}function ni(e){return e&&"category"!==e.type&&"time"!==e.type&&(0,ma.JJ)(e)}function oi(e,t){var a=e.getExtent(),i=a[0]+a[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return i-e+t}}var si=ai,li=a(5832),ci=a(2855),ui=a(1151),di=(0,Z.$r)();function hi(e,t,a,i){var r=a.axis;if(!r.scale.isBlank()){var n=a.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=i.coordinateSystem.getRect(),c=r.getTicksCoords({tickModel:n,clamp:!0});if(c.length){var u=s.length,d=di(e).splitAreaColors,h=Y.nt(),g=0;if(d)for(var p=0;p<c.length;p++){var f=d.get(c[p].tickValue);if(null!=f){g=(f+(u-1)*p)%u;break}}var y=r.toGlobalCoord(c[0].coord),v=o.getAreaStyle();s=Y.cy(s)?s:[s];for(p=1;p<c.length;p++){var m=r.toGlobalCoord(c[p].coord),x=void 0,b=void 0,A=void 0,L=void 0;r.isHorizontal()?(x=y,b=l.y,A=m-x,L=l.height,y=x+A):(x=l.x,b=y,A=l.width,L=m-b,y=b+L);var M=c[p-1].tickValue;null!=M&&h.set(M,g),t.add(new ct.A({anid:null!=M?"area_"+M:null,shape:{x:x,y:b,width:A,height:L},style:Y.NT({fill:s[g]},v),autoBatch:!0,silent:!0})),g=(g+1)%u}di(e).splitAreaColors=h}}}function gi(e){di(e).splitAreaColors=null}var pi=["axisLine","axisTickLabel","axisName"],fi=["splitArea","splitLine","minorSplitLine"],yi=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.axisPointerClass="CartesianAxisPointer",a}return(0,ie.C6)(t,e),t.prototype.render=function(t,a,i,r){this.group.removeAll();var n=this._axisGroup;if(this._axisGroup=new st.A,this.group.add(this._axisGroup),t.get("show")){var o=t.getCoordSysModel(),s=Ka.Zp(o,t),l=new ci.A(t,Y.X$({handleAutoShown:function(e){for(var a=o.coordinateSystem.getCartesians(),i=0;i<a.length;i++)if((0,Ja.rf)(a[i].getOtherAxis(t.axis).scale))return!0;return!1}},s));Y.__(pi,l.add,l),this._axisGroup.add(l.getGroup()),Y.__(fi,(function(e){t.get([e,"show"])&&vi[e](this,this._axisGroup,t,o)}),this);var c=r&&"changeAxisOrder"===r.type&&r.isInitSort;c||lt.groupTransition(n,this._axisGroup,t),e.prototype.render.call(this,t,a,i,r)}},t.prototype.remove=function(){gi(this)},t.type="cartesianAxis",t}(ui.A),vi={splitLine:function(e,t,a,i){var r=a.axis;if(!r.scale.isBlank()){var n=a.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color");s=Y.cy(s)?s:[s];for(var l=i.coordinateSystem.getRect(),c=r.isHorizontal(),u=0,d=r.getTicksCoords({tickModel:n}),h=[],g=[],p=o.getLineStyle(),f=0;f<d.length;f++){var y=r.toGlobalCoord(d[f].coord);c?(h[0]=y,h[1]=l.y,g[0]=y,g[1]=l.y+l.height):(h[0]=l.x,h[1]=y,g[0]=l.x+l.width,g[1]=y);var v=u++%s.length,m=d[f].tickValue,x=new li.A({anid:null!=m?"line_"+d[f].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:g[0],y2:g[1]},style:Y.NT({stroke:s[v]},p),silent:!0});lt.subPixelOptimizeLine(x.shape,p.lineWidth),t.add(x)}}},minorSplitLine:function(e,t,a,i){var r=a.axis,n=a.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=i.coordinateSystem.getRect(),l=r.isHorizontal(),c=r.getMinorTicksCoords();if(c.length)for(var u=[],d=[],h=o.getLineStyle(),g=0;g<c.length;g++)for(var p=0;p<c[g].length;p++){var f=r.toGlobalCoord(c[g][p].coord);l?(u[0]=f,u[1]=s.y,d[0]=f,d[1]=s.y+s.height):(u[0]=s.x,u[1]=f,d[0]=s.x+s.width,d[1]=f);var y=new li.A({anid:"minor_line_"+c[g][p].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:h,silent:!0});lt.subPixelOptimizeLine(y.shape,h.lineWidth),t.add(y)}},splitArea:function(e,t,a,i){hi(e,t,a,i)}},mi=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,ie.C6)(t,e),t.type="xAxis",t}(yi),xi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=mi.type,t}return(0,ie.C6)(t,e),t.type="yAxis",t}(yi),bi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return(0,ie.C6)(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new ct.A({shape:e.coordinateSystem.getRect(),style:(0,Y.NT)({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(aa.A),Ai={offset:0};function Li(e){e.registerComponentView(bi),e.registerComponentModel(na),e.registerCoordinateSystem("cartesian2d",si),ya(e,"x",sa,Ai),ya(e,"y",sa,Ai),e.registerComponentView(mi),e.registerComponentView(xi),e.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}var Mi=a(446);function wi(e){(0,X.Y)(Li),(0,X.Y)(Mi.a)}var _i=a(5095);(0,X.Y)([Qt.a,ea.a,ta.a,wi,Pe,Kt,Jt.a,_i.a]);var Si={components:{VChart:z.Ay},data(){return{leads:[],fechaDesde:"",fechaHasta:"",kpis:[{label:"Total",value:0},{label:"Nuevos",value:0},{label:"Seguimiento",value:0},{label:"Cerrados",value:0},{label:"Ventas",value:0},{label:"Test Drive",value:0}],chartMarca:{series:[{type:"pie",data:[]}]},chartModelo:{xAxis:[{type:"category",data:[]}],yAxis:[{type:"value"}],series:[{type:"bar",data:[]}]},chartEstatus:{series:[{type:"pie",data:[]}]},chartTestDrive:{series:[{type:"pie",data:[]}]},chartPipeline:{xAxis:[{type:"category",data:[]}],yAxis:[{type:"value"}],series:[{type:"bar",data:[]}]},chartFunnel:{series:[{type:"funnel",data:[]}]}}},methods:{async cargarLeads(){try{const e={};this.fechaDesde&&(e.fecha_desde=this.fechaDesde),this.fechaHasta&&(e.fecha_hasta=this.fechaHasta);const t=await W.A.get("/get-leads-gerente",{params:e});this.leads=t.data,this.calcularKPIs(),this.generarGraficos()}catch(e){console.error(" Error al cargar leads:",e)}},calcularKPIs(){this.kpis[0].value=this.leads.length,this.kpis[1].value=this.leads.filter((e=>"nuevo"===e.estatus)).length,this.kpis[2].value=this.leads.filter((e=>"en seguimiento"===e.estatus)).length,this.kpis[3].value=this.leads.filter((e=>"cerrado"===e.estatus)).length,this.kpis[4].value=this.leads.filter((e=>"culmina en venta"===e.estatus)).length,this.kpis[5].value=this.leads.filter((e=>"Si"===e.test_drive)).length},generarGraficos(){const e=this.agruparPor("marca_interes");this.chartMarca={tooltip:{trigger:"item"},series:[{type:"pie",radius:"60%",data:e,label:{show:!0,formatter:"{b}: {c}"}}]};const t=this.agruparPor("modelo_interesado");this.chartModelo={tooltip:{trigger:"axis"},xAxis:[{type:"category",data:t.map((e=>e.name))}],yAxis:[{type:"value"}],series:[{type:"bar",data:t.map((e=>e.value)),label:{show:!0,position:"top"}}]};const a=this.agruparPor("estatus");this.chartEstatus={tooltip:{trigger:"item"},series:[{type:"pie",radius:"60%",data:a,label:{show:!0,formatter:"{b}: {c}"}}]};const i=this.agruparPor("test_drive");this.chartTestDrive={tooltip:{trigger:"item"},series:[{type:"pie",radius:"60%",data:i,label:{show:!0,formatter:"{b}: {c}"}}]};const r=this.leads.reduce(((e,t)=>e+(t.precio_venta||0)),0),n=this.leads.filter((e=>"culmina en venta"===e.estatus)).reduce(((e,t)=>e+(t.precio_venta||0)),0);this.chartPipeline={tooltip:{trigger:"axis",formatter:e=>`${e[0].name}: $${this.formatoCorto(e[0].value)}`},xAxis:[{type:"category",data:["Prospectado","Real (Ventas)"]}],yAxis:[{type:"value",axisLabel:{formatter:e=>`$${this.formatoCorto(e)}`}}],series:[{type:"bar",data:[r,n],label:{show:!0,position:"top",formatter:e=>`$${this.formatoCorto(e.value)}`}}]},this.chartFunnel={tooltip:{trigger:"item"},series:[{type:"funnel",left:"10%",width:"80%",label:{show:!0,formatter:"{b}: {c}"},data:[{value:this.kpis[0].value,name:"Prospectado"},{value:this.kpis[2].value,name:"En Seguimiento"},{value:this.kpis[3].value,name:"Cerrados"},{value:this.kpis[4].value,name:"Ventas"}]}]}},agruparPor(e){const t={};return this.leads.forEach((a=>{const i=a[e]||"No definido";t[i]=(t[i]||0)+1})),Object.keys(t).map((e=>({name:e,value:t[e]})))},formatoCorto(e){return e>=1e9?(e/1e9).toFixed(1)+"B":e>=1e6?(e/1e6).toFixed(0)+"M":e>=1e3?(e/1e3).toFixed(0)+"K":e}},created(){this.cargarLeads()}},Ci=a(1241);const ki=(0,Ci.A)(Si,[["render",B],["__scopeId","data-v-e7192ec8"]]);var Ii=ki}}]);
//# sourceMappingURL=565.90494f3f.js.map