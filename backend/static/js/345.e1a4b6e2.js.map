{"version":3,"file":"js/345.e1a4b6e2.js","mappings":"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","sources":["webpack://frontend/./src/components/ReportesComponent.vue","webpack://frontend/./src/components/ReportesComponent.vue?af52"],"sourcesContent":["<template>\r\n  <div id=\"supervisor-leads\" class=\"container mt-4\">\r\n    <h1 class=\"text-center mb-4\">Reporte de Leads</h1>\r\n\r\n    <!-- Botón para cargar contenido de la tabla -->\r\n    <div class=\"text-center mb-4\">\r\n      <button class=\"btn btn-secondary\" @click=\"generarContenidoTabla\">Generar Contenido Tabla</button>\r\n    </div>\r\n\r\n    <!-- Gráfico de Embudo-->\r\n    <div class=\"chart-container mb-4 d-flex justify-content-center\">\r\n      <v-chart :option=\"chartOptions\" style=\"width: 100%; height: 350px;\" />\r\n    </div>\r\n\r\n    <!-- Botones de Exportación y Totalizadores -->\r\n    <div class=\"controls d-flex justify-content-between align-items-center mb-4\">\r\n      <div>\r\n        <button class=\"btn btn-success me-2\" @click=\"exportarReporte('pdf')\">Exportar PDF</button>\r\n        <button class=\"btn btn-info\" @click=\"exportarReporte('csv')\">Exportar CSV</button>\r\n      </div>\r\n      <div class=\"totalizadores\">\r\n        <p>Total leads en sistema: <strong>{{ totalLeadsAsignados }}</strong></p>\r\n        <p>Total leads Nuevos: <strong>{{ totalLeadsNuevos }}</strong></p>\r\n        <p>Total leads en seguimiento: <strong>{{ totalLeadsEnSeguimiento }}</strong></p>\r\n        <p>Total leads cerrados: <strong>{{ totalLeadsCerrados }}</strong></p>\r\n        <p>Total leads culminados en venta: <strong>{{ totalLeadsCulminadosEnVenta }}</strong></p>\r\n        <p>Total leads asignados: <strong>{{ totalLeadsAsignadosEstado }}</strong></p>\r\n        <p>Última conexión del vendedor: <strong>{{ formatearFecha(tiempoUltimaConexion) }}</strong></p>\r\n        <p>Última puesta en línea: <strong>{{ formatearFecha(ultimaPuestaOnline) }}</strong></p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Botones de Navegación -->\r\n    <div class=\"navigation-buttons text-center mt-4\">\r\n      <BotonesGlobales />\r\n    </div>\r\n\r\n    <!-- Filtros de Búsqueda -->\r\n    <div class=\"filtros mb-4 row g-3\" v-if=\"contenidoGenerado\">\r\n      <div class=\"col-md-4\">\r\n        <label class=\"form-label\">Filtrar por vendedor:</label>\r\n        <select class=\"form-select\" v-model=\"filtroVendedor\" @change=\"filtrarLeads\">\r\n          <option value=\"\">Todos</option>\r\n          <option v-for=\"vendedor in vendedores\" :key=\"vendedor.id\" :value=\"vendedor.id\">\r\n            {{ vendedor.nombre }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n\r\n      <div class=\"col-md-4\">\r\n        <label class=\"form-label\">Filtrar por estado:</label>\r\n        <select class=\"form-select\" v-model=\"filtroEstado\" @change=\"filtrarLeads\">\r\n          <option value=\"\">Todos</option>\r\n          <option value=\"nuevo\">Nuevo</option>\r\n          <option value=\"asignado\">Asignado</option>\r\n          <option value=\"en seguimiento\">En Seguimiento</option>\r\n          <option value=\"cerrado\">Cerrado</option>\r\n          <option value=\"culmina en venta\">Culmina en Venta</option>\r\n        </select>\r\n      </div>\r\n      \r\n      <div class=\"col-md-4\">\r\n        <label class=\"form-label\">Filtrar por Test Drive:</label>\r\n        <select class=\"form-select\" v-model=\"filtroTestDrive\" @change=\"filtrarLeads\">\r\n          <option value=\"\">Todos</option>\r\n          <option value=\"Si\">Si</option>\r\n          <option value=\"No\">No</option>\r\n        </select>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <!-- Tabla de Leads -->\r\n    <div class=\"table-responsive\" v-if=\"contenidoGenerado\">\r\n      <table class=\"table table-bordered table-striped\">\r\n        <thead class=\"table-dark\">\r\n          <tr>\r\n            <th>Nombres</th>\r\n            <th>Apellidos</th>\r\n            <th>Identificación</th>\r\n            <th>Teléfono</th>\r\n            <th>Dirección</th>\r\n            <th>Ciudad</th>\r\n            <th>Correo</th>\r\n            <th>Fecha Lead</th>\r\n            <th>Origen Lead</th>\r\n            <th>Marca de Interés</th>\r\n            <th>Modelo Interesado</th>\r\n            <th>Estatus</th>\r\n            <th>Test Drive</th>\r\n            <th>Seguimientos</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"lead in leadsFiltrados\" :key=\"lead.id\">\r\n            <td><span>{{ lead.nombres }}</span></td>\r\n            <td><span>{{ lead.apellidos }}</span></td>\r\n            <td><span>{{ lead.identificacion }}</span></td>\r\n            <td><span>{{ lead.telefono }}</span></td>\r\n            <td><span>{{ lead.direccion }}</span></td>\r\n            <td><span>{{ lead.ciudad }}</span></td>\r\n            <td><span>{{ lead.correo }}</span></td>\r\n            <td><span>{{ formatearFecha(lead.fecha_lead) }}</span></td>\r\n            <td><span>{{ lead.origen_lead }}</span></td>\r\n            <td><span>{{ lead.marca_interes }}</span></td>\r\n            <td><span>{{ lead.modelo_interesado }}</span></td>\r\n            <td><span>{{ lead.estatus }}</span></td>\r\n            <td><span>{{ lead.test_drive }}</span></td>\r\n            <td><span>{{ lead.seguimientos }}</span></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from '../axios';\r\nimport VChart from 'vue-echarts';\r\nimport { use } from 'echarts/core';\r\nimport { FunnelChart } from 'echarts/charts';\r\nimport { TitleComponent, TooltipComponent, LegendComponent } from 'echarts/components';\r\nimport { CanvasRenderer } from 'echarts/renderers';\r\nimport BotonesGlobales from './BotonesGlobales.vue';\r\n\r\nuse([TitleComponent, TooltipComponent, LegendComponent, FunnelChart, CanvasRenderer]);\r\n\r\nexport default {\r\n  components: {\r\n    VChart,\r\n    BotonesGlobales\r\n  },\r\n  data() {\r\n    return {\r\n      leads: [],\r\n      leadsFiltrados: [],\r\n      filtroVendedor: '',\r\n      filtroEstado: '',\r\n      filtroTestDrive: '',\r\n      vendedores: [],\r\n      totalLeadsAsignados: 0,\r\n      totalLeadsNuevos: 0,\r\n      totalLeadsEnSeguimiento: 0,\r\n      totalLeadsCerrados: 0,\r\n      totalLeadsCulminadosEnVenta: 0,\r\n      totalLeadsAsignadosEstado: 0,\r\n      tiempoUltimaConexion: '',\r\n      ultimaPuestaOnline: '',\r\n      contenidoGenerado: false, // Controla la visibilidad del contenido\r\n      chartOptions: {\r\n        tooltip: { trigger: 'item' },\r\n        legend: { top: 'bottom' },\r\n        series: [\r\n          {\r\n            type: 'funnel',\r\n            left: '10%',\r\n            width: '80%',\r\n            sort: 'descending',\r\n            label: {\r\n              show: true,\r\n              position: 'inside'\r\n            },\r\n            data: [\r\n              { value: this.totalLeadsAsignados, name: 'En sistema' },\r\n              { value: this.totalLeadsNuevos, name: 'Nuevo' },\r\n              { value: this.totalLeadsEnSeguimiento, name: 'En seguimiento' },\r\n              { value: this.totalLeadsCerrados, name: 'Cerrados' },\r\n              { value: this.totalLeadsCulminadosEnVenta, name: 'Culminados en venta' },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    generarContenidoTabla() {\r\n      this.cargarLeads();\r\n      this.contenidoGenerado = true;\r\n    },\r\n    formatearFecha(fecha) {\r\n      if (!fecha) return \"N/A\"; // Manejo de fechas vacías\r\n      // Validar formato esperado \"YYYY-MM-DD\"\r\n      const regex = /^\\d{4}-\\d{2}-\\d{2}$/;\r\n      if (!regex.test(fecha)) {\r\n        console.warn(`Formato de fecha no reconocido: ${fecha}`);\r\n        return fecha; // Devolver la fecha como está si no coincide con el formato esperado\r\n      }\r\n    \r\n      // Convertir a formato \"DD/MM/YYYY\"\r\n      const [year, month, day] = fecha.split(\"-\");\r\n      return `${day}/${month}/${year}`;\r\n    },\r\n    cargarLeads() {\r\n      axios.get('/get-all-leads')\r\n        .then((response) => {\r\n          this.leads = response.data;\r\n          this.filtrarLeads();\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Error al cargar leads:\", error);\r\n        });\r\n    },\r\n    cargarVendedores() {\r\n      axios.get('/get-vendedores')\r\n        .then((response) => {\r\n          this.vendedores = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Error al cargar vendedores:\", error);\r\n        });\r\n    },\r\n    filtrarLeads() {\r\n      this.leadsFiltrados = this.leads.filter((lead) => {\r\n        return (\r\n          (!this.filtroVendedor || lead.asignado_a === parseInt(this.filtroVendedor)) &&\r\n          (!this.filtroEstado || lead.estatus === this.filtroEstado) &&\r\n          (!this.filtroTestDrive || lead.test_drive === this.filtroTestDrive)\r\n        );\r\n      });\r\n      this.calcularTotalizadores();\r\n    },\r\n    calcularTotalizadores() {\r\n      this.totalLeadsAsignados = this.leadsFiltrados.length;\r\n      this.totalLeadsNuevos = this.leadsFiltrados.filter(lead => lead.estatus === 'nuevo').length;\r\n      this.totalLeadsEnSeguimiento = this.leadsFiltrados.filter(lead => lead.estatus === 'en seguimiento').length;\r\n      this.totalLeadsCerrados = this.leadsFiltrados.filter(lead => lead.estatus === 'cerrado').length;\r\n      this.totalLeadsCulminadosEnVenta = this.leadsFiltrados.filter(lead => lead.estatus === 'culmina en venta').length;\r\n      this.totalLeadsAsignadosEstado = this.leadsFiltrados.filter(lead => lead.estatus === 'asignado').length;\r\n      this.updateChartData();\r\n\r\n      if (this.filtroVendedor) {\r\n        axios.get(`/tiempo-ultima-conexion?vendedor=${this.filtroVendedor}`)\r\n          .then(response => {\r\n            this.tiempoUltimaConexion = response.data.fecha_ultima_conexion;\r\n            this.ultimaPuestaOnline = response.data.ultima_puesta_online;\r\n          })\r\n          .catch(error => {\r\n            console.error(\"Error al obtener fecha desde la última conexión:\", error);\r\n          });\r\n      } else {\r\n        this.tiempoUltimaConexion = 'N/A';\r\n        this.ultimaPuestaOnline = 'N/A';\r\n      }\r\n    },\r\n    updateChartData() {\r\n      this.chartOptions.series[0].data = [\r\n        { value: this.totalLeadsAsignados, name: 'En sistema' },\r\n        { value: this.totalLeadsNuevos, name: 'Nuevo' },\r\n        { value: this.totalLeadsEnSeguimiento, name: 'En seguimiento' },\r\n        { value: this.totalLeadsCerrados, name: 'Cerrados' },\r\n        { value: this.totalLeadsCulminadosEnVenta, name: 'Culminados en venta' },\r\n      ];\r\n    },\r\n    guardarLead(lead) {\r\n      axios.post('/update-lead', lead)\r\n        .then(() => {\r\n          alert('Lead actualizado');\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Error al guardar el lead:\", error);\r\n        });\r\n    },\r\n    exportarReporte(formato) {\r\n      axios.post('/exportar-reporte', {\r\n        leads: this.leadsFiltrados,\r\n        vendedor: this.filtroVendedor ? parseInt(this.filtroVendedor) : null,\r\n        filtro_estado: this.filtroEstado || null,\r\n        filtroTestDrive: this.filtroTestDrive || null,\r\n        formato: formato\r\n      }, { responseType: 'blob' })\r\n        .then(response => {\r\n          const url = window.URL.createObjectURL(new Blob([response.data]));\r\n          const link = document.createElement('a');\r\n          link.href = url;\r\n          link.setAttribute('download', `reporte_leads.${formato}`);\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          document.body.removeChild(link);\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Error al exportar reporte:\", error);\r\n        });\r\n    }\r\n  },\r\n  created() {\r\n    this.cargarVendedores(); // Carga vendedores cuando se crea el componente\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.chart-container {\r\n  width: 100%;\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.controls .totalizadores p {\r\n  font-size: 1em;\r\n  color: #333;\r\n  margin: 5px 0;\r\n  font-weight: bold;\r\n}\r\n\r\n.table-responsive {\r\n  margin-top: 20px;\r\n}\r\n\r\n/* Tamaño de fuente reducido para toda la tabla y sus celdas */\r\n.table-responsive .table,\r\n.table-responsive .table th,\r\n.table-responsive .table td {\r\n  font-size: 0.9em; /* Ajusta el tamaño de fuente en toda la tabla */\r\n  padding: 8px; /* Espacio entre celdas */\r\n}\r\n\r\n/* Estilo para los campos de entrada, selectores y área de texto en la tabla */\r\n.table-responsive .table input,\r\n.table-responsive .table select,\r\n.table-responsive .table textarea {\r\n  font-size: 0.9em; /* Tamaño de fuente ajustado para los campos */\r\n  padding: 5px; /* Espacio interno de los campos */\r\n}\r\n\r\n/* Estilo específico para el área de texto de seguimiento */\r\n.seguimiento-textarea {\r\n  resize: both; /* Permite redimensionar en ambas direcciones */\r\n  min-width: 100px;\r\n  min-height: 80px;\r\n}\r\n\r\n.export-button {\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n","import { render } from \"./ReportesComponent.vue?vue&type=template&id=62eb74d8&scoped=true\"\nimport script from \"./ReportesComponent.vue?vue&type=script&lang=js\"\nexport * from \"./ReportesComponent.vue?vue&type=script&lang=js\"\n\nimport \"./ReportesComponent.vue?vue&type=style&index=0&id=62eb74d8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-62eb74d8\"]])\n\nexport default __exports__"],"names":["id","class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","generarContenidoTabla","_hoisted_3","_createVNode","_component_v_chart","option","$data","chartOptions","style","_hoisted_4","$event","exportarReporte","_hoisted_5","_createTextVNode","_toDisplayString","totalLeadsAsignados","totalLeadsNuevos","totalLeadsEnSeguimiento","totalLeadsCerrados","totalLeadsCulminadosEnVenta","totalLeadsAsignadosEstado","formatearFecha","tiempoUltimaConexion","ultimaPuestaOnline","_hoisted_6","_component_BotonesGlobales","contenidoGenerado","_hoisted_7","_hoisted_8","filtroVendedor","onChange","filtrarLeads","value","_Fragment","_renderList","vendedores","vendedor","nombre","_hoisted_9","_hoisted_10","filtroEstado","_createStaticVNode","_hoisted_11","filtroTestDrive","_createCommentVNode","_hoisted_12","_hoisted_13","leadsFiltrados","lead","nombres","apellidos","identificacion","telefono","direccion","ciudad","correo","fecha_lead","origen_lead","marca_interes","modelo_interesado","estatus","test_drive","seguimientos","use","TitleComponent","TooltipComponent","LegendComponent","FunnelChart","CanvasRenderer","components","VChart","BotonesGlobales","data","leads","tooltip","trigger","legend","top","series","type","left","width","sort","label","show","position","this","name","methods","cargarLeads","fecha","regex","test","console","warn","year","month","day","split","axios","get","then","response","catch","error","cargarVendedores","filter","asignado_a","parseInt","calcularTotalizadores","length","updateChartData","fecha_ultima_conexion","ultima_puesta_online","guardarLead","post","alert","formato","filtro_estado","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","created","__exports__","render"],"sourceRoot":""}